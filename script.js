var resultHeader=document.getElementById("result-header");const wordToSearch=document.getElementById("word_to_search"),textArea=document.getElementById("textarea");var userTextWithAllWordOccurence=document.getElementById("my_paragraph"),lis=[],liste_information_text=[],liste_three=[];function CallMainFunctionWhenKeyEnter(){document.addEventListener("keyup",(function(e){e.preventDefault(),"Enter"!==e.code&&"Enter"!==e.key||findWord()}))}function loadFromLocalStorage(){if(null!=localStorage.length)for(var e=0;e<localStorage.length;e++)document.getElementById("textarea").textContent=localStorage.getItem("text")}function renitialize(){textArea.value="",wordToSearch.value="",localStorage.setItem("text",""),resultHeader.textContent="",userTextWithAllWordOccurence.textContent=""}function get_user_entry(){return document.getElementById("textarea").value.trim()}function normalize_text_entry(e){return e.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[.,\/#!$Â¿?'"%\^&\*;:{}=\-_`~()]/g,"").replace(/\s{2,}/g," ").replace(/\n/g," ")}function getListe(){const e=normalize_text_entry(textArea.value),t=normalize_text_entry(wordToSearch.value),r=e.split(" ");var n=[];if(e.trim()&&t.trim()){for(var o=0;o<r.length;o++)r[o]==t.trim()&&n.push(o+1);return localStorage.setItem("text",e.trim()),n}}function findWord(){const e=normalize_text_entry(textArea.value),t=normalize_text_entry(wordToSearch.value);if(e.trim()&&t.trim()){var r="<span style='color:rgb(242, 102, 250);font-weight: bold;'>"+t.trim()+"</span>";if(null==getListe()[0])resultHeader.textContent="Mot introuvable dans le texte",userTextWithAllWordOccurence.textContent="";else{resultHeader.classList.add("text_for_informations"),resultHeader.textContent="Le mot '"+t.trim()+"' apparait "+getListe().length+" fois dans le texte";var n=e.split(" ");!function(){for(i in n)n[i]==t.trim()&&liste_information_text.push(i);for(i in n)liste_three.push(n[i]);for(i in liste_information_text)liste_three[liste_information_text[i]]==t.trim()&&(liste_three[liste_information_text[i]]=r);var e=liste_three.toString().replaceAll(","," ");lis[0]=e,userTextWithAllWordOccurence.innerHTML=lis[0],liste_three=[]}()}}}document.getElementById("formId").addEventListener("submit",(function(e){e.preventDefault()})),CallMainFunctionWhenKeyEnter(),loadFromLocalStorage();
